{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row header-container">
        <div class="col">
            <h1>Thank you for your order! <img class="heart" src="{{ MEDIA_URL }}heart.png" 
                alt="heart image"></h1>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <p>Your order was successful! Your order number is <strong>{{ order.order_number }}</strong>. 
                A confirmation email has been sent to <strong>{{ order.email}}</strong></p>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col">
            <div class="row">
                <div class="col">
                    <p><strong>Order details:</strong></p>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Order Number:</p>
                </div>
                <div class="col">
                    <p>{{ order.order_number }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Order Date:</p>
                </div>
                <div class="col">
                    <p>{{ order.date }}</p>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col">
                    <p><strong>Items:</strong></p>
                    <hr>
                </div>
            </div>
                {% for item in order.lineitems.all %}
                <div class="row">
                <div class="col">
                    <p class="ml-3 items">{{ item.product.name }}
                        {% if item.product_size %}
                            -{{ item.product_size | upper }}
                        {% endif %}
                    <br>Quantity: {{ item.quantity }} (Â£{{ item.product.price}} each)</p>
                </div>
            </div>
            {% endfor %}


            <div class="row mt-4">
                <div class="col">
                    <p><strong>Delivery details:</strong></p>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Full name:</p>
                </div>
                <div class="col">
                    <p>{{ order.full_name }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Phone number:</p>
                </div>
                <div class="col">
                    <p>{{ order.phone_number }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Address:</p>
                </div>
                <div class="col">
                    <p>{{ order.street_address1 }}
                    <br>{% if order.street_address2 %}{{ order.street_address2 }}{% endif %}
                    <br>{% if order.county %}{{ order.county }}{% endif %}
                    <br>{{ order.town_or_city }}
                    <br>{% if order.postcode %}{{ order.postcode }}{% endif %}
                    <br>{{ order.country }}</p>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col">
                    <p><strong>Billing information:</strong></p>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Subtotal:</p>
                </div>
                <div class="col">
                    <p>{{ order.order_total }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Delivery:</p>
                </div>
                <div class="col">
                    <p>{{ order.delivery_cost }}</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-muted ml-3">Total</p>
                </div>
                <div class="col">
                    {{ order.grand_total }}
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}
